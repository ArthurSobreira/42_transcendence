generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = "file:./game.db"
}

model Tournament {
    id             String  @id @default(uuid())
    tournamentUuid String  @unique
    tournamentName String
    player1Uuid    String
    player2Uuid    String
    player3Uuid    String
    player4Uuid    String
    aliasPlayer1   String?
    aliasPlayer2   String?
    aliasPlayer3   String?
    aliasPlayer4   String?

    @@map("game-service")
}

model History {
    id             String   @id @default(uuid())
    historyUuid    String   @unique
    tournamentId   String?
    tournamentName String?
    gameType       String?
    player1Uuid    String
    player1Alias   String?
    player1Points  Int
    player2Uuid    String
    player2Alias   String?
    player2Points  Int
    player3Uuid    String?
    player3Alias   String?
    player3Points  Int?
    player4Uuid    String?
    player4Alias   String?
    player4Points  Int?
    matchedAt      DateTime @default(now())

    @@unique([tournamentId])
    @@map("history")
}

model MatchMaking {
    id              String   @id @default(uuid())
    matchUuid       String   @unique
    player1Username String   @unique
    player2Username String   @unique
    matchedAt       DateTime @default(now())

    @@map("matchmaking")
}
